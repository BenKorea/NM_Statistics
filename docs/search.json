[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "R-4.4.1-NM_Statistics",
    "section": "",
    "text": "Shinylive로 핵의학통계 웹페이지 구성하는 과정을 정리한 것입니다.\n\n\n\n\n\n\n\n1단계: Quarto Website 프로젝트 만들기\n\n\n\n\n\n\nRStudio/File 메뉴에서 New Project... 메뉴 선택\nNew Directory에 생성되도록 선택\nProject type은 Quarto Website를 선택\n상위폴더가 C:/Projects인지 확인 (=Global Options 사전 지정값)\nCreate a git repository: 체크 유지하여 버전관리 적용\nUse renv with this project: 체크 유지하여 패키지 독립관리 적용\nUse visual markdown editor: 체크 유지하여 wizwig 에디터 사용\nOpen in new session: 기존 프로젝트가 이미 열려있고, 같이 사용할려면 체크\n\n\n\n\n\n\n\nrecommeded project name\n\nR-4.4.1-NM_Statistics_Example\n\n\n\n\n\n\n\n\n2단계: 버전관리 제외대상 추가하기\n\n\n\n\n\n\n.gitignore 파일을 열어서 아래의 내용을 추가하여 git 버전관리에서 제외합니다.\n\n\n\n\n\n\n\n.gitignore\n\n.Rprofile\n*.Rproj\nrenv/\n\n\n\n\n\n\n\n\n3단계: shiny 패키지 설치하기\n\n\n\n\n\n\n\n\n\n\n\n\nR Console\n\nrenv::install(\"shiny\")\n\n\n\n\n\n\n\n\n4단계: development version shinylive 패키지 설치하기\n\n\n\n\n\n\nDevelopment version은 loading 속도가 개선되었으므로 사용해벌 가치가 있습니다.\npak 패키지를 먼저 설치합니다.\npak 패키지를 이용해서 posit 사의 development version shinylive 패키지를 설치합니다.\n\n\n\n\n\n\n\nR console\n\nrenv::install(\"pak\")\n\n\n\n\n\nR console\n\npak::pak(\"posit-dev/r-shinylive\")\n\n\n\n\n\n\n\n\n6단계: shinylive extension 설치하기\n\n\n\n\n\n\n\n\n\n\n\n\nR Terminal\n\nquarto add quarto-ext/shinylive\n\n\n\n\n\n\n\n\n7단계: output-dir 설정하기\n\n\n\n\n\n\n\n\n\n\n\n\n_quarto.yml\n\n  output-dir: docs\n\n\n\n\n\n\n\n\n8단계: filter 설정하기\n\n\n\n\n\n\n\n\n\n\n\n\n_quarto.yml\n\nfilters:\n  - shinylive\n\n\n\n\n\n\n\n\n7단계: 예제1 테스트\n\n\n\n\n\n\n\n\n\n```{shinylive-r}\n#| label: histogram_example\n#| standalone: true\n#| viewerHeight: 500\n\n\nlibrary(shiny)\n\nui &lt;- fluidPage(\n  titlePanel(\"Hello Shiny!\"),\n  sidebarLayout(\n    sidebarPanel(\n      sliderInput(\n        inputId = \"bins\",\n        label = \"Number of bins:\",\n        min = 1,\n        max = 50,\n        value = 30\n      )\n    ),\n    mainPanel(\n      plotOutput(outputId = \"distPlot\")\n    )\n  )\n)\n\nserver &lt;- function(input, output) {\n  output$distPlot &lt;- renderPlot({\n    x &lt;- faithful$waiting\n    bins &lt;- seq(min(x), max(x), length.out = input$bins + 1)\n    hist(x,\n         breaks = bins, col = \"#75AADB\", border = \"white\",\n         xlab = \"Waiting time to next eruption (in mins)\",\n         main = \"Histogram of waiting times\"\n    )\n  })\n}\n\nshinyApp(ui = ui, server = server)\n\n```\n\n#| label: single API call\n#| echo: false\n\nlibrary(rjson)\nlibrary(httr)\nlibrary(plyr)\n\ndownload_api_data &lt;- function() {\n  base_url &lt;- \"http://apis.data.go.kr/B551182/mdlrtActionInfoService\"\n  call_url &lt;- \"getMdlrtActionByClassesStats\"\n  method &lt;- \"GET\"\n  My_API_Key &lt;- \"DRwFWZ/jfi6551teJKgRhkKgC+XhcjobN+ccY2MQdF9yZdx8xL5Kn4IljljMCWGsl2ObEco/rm21r14CN7iG0g==\"  # 실제 API 키\n  params &lt;- list(\n    serviceKey = My_API_Key,\n    pageNo = 1,\n    numOfRows = 10,\n    resultType = \"json\",\n    year = \"2023\",\n    stdType = \"1\",\n    st5Cd = \"HK010\"\n  )\n  \n  # API 호출\n  url &lt;- paste0(base_url, \"/\", call_url)\n  response &lt;- GET(url, query = params)\n\n  if (status_code(response) == 200) {\n    json_text &lt;- content(response, as = \"text\")\n    data &lt;- fromJSON(json_text)\n    return(data)\n  } else {\n    print(paste(\"API 호출 실패:\", status_code(response)))\n    return(NULL)\n  }\n}\n\ndata &lt;- download_api_data()\ndata_list&lt;-data$response$body$items$item\ndf &lt;- rbind.fill(lapply(data_list, as.data.frame))"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n1 + 1\n\n[1] 2"
  }
]